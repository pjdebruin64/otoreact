<pageLayout>
    <pageHead>
        <span class=OtoRed>Routing</span> through the <span class=OtoRed>OtoReact</span> framework
    </pageHead>
    
(Note: This documentation is unfinished.)
<h2>What is URL Routing</h2>
    
<p>
    Web applications often contain multiple pages for different purposes, for example an inventory list, inventory details for each item, a customer list, etc.
    
<p>
    A traditional <i>server-side</i> web application utilizes <i>different URLs</i> (page addresses in the navigation bar) to navigate between different pages. 
<p>
    A single <i>client-side</i> web application can blazingly fast provide all these pages by changing its internal state without using different URLs.
    <br>Actually, as the application is fetched as a single document from the server, it natively <i>has</i> just a <i>single URL</i>.
</p>
However, utilizing separate URLs has advantages to the user:
<ol>
    <li>Pages can be individually linked, saved as bookmarks, shared by email or social media, etc.
    <li>The application can be refreshed while staying at the same page
    <li>The browsers back and forward buttons can be used to navigate back and forth
</ol>
Now, <i>URL routing</i> means routing different URLs to different virtual pages, while in the background remaining in one and the same (single page) application.
<p>
    This page itself is presented to you using URL routing. You can quickly move back and forth without anything being fetched from the server, nor being reloaded from cache.
</p>

<h2>Variants of URL routing</h2>
An (absolute) URL (<a href="{wiki}URL">Uniform Resource Locator</a>), like 
"<span style="color:deeppink">https://otoreact.dev:80</span><span style="color:slateblue">/some/path</span><span style="color:limegreen">?param1=A&amp;param2=B</span><span style="color:orange">#someHash</span>", consists of several parts that can be used for routing.
<ul>
    <li>
        The protocol, host, and optional port, together called the 'origin' "<span style="color:deeppink">https://otoreact.dev:80</span>", must remain the same for all pages in an application, and cannot be used for routing.
    </li>
    <li>
        The 'pathname' "<span style="color:slateblue">/some/path</span>" is suited for routing:
        <ul>
            <li>"https://yourdomain.com/inventory" could be your inventory page</li>
            <li>"https://yourdomain.com/customers" could be your customers list</li>
            <li>"https://yourdomain.com/customer/12345" could be the details page for customer 12345</li>
        </ul>
        There are two complications (whatever framework you use):
        <ol>
            <li>
                Web servers by default use the pathname to locate the HTML file being served, and will require special configuration to serve the <i>same</i> HTML file on <i>different</i> pathnames.
                <br>For Microsoft IIS and Apache, this is quite easy: one can put a fixed configuration file in the application directory. Suitable files are included in the OtoReact package download.
                <br>For other servers, one may have to modify the main configuration file. I have not figured out the details.
                <br>When you are on a shared hosting server, you may not be allowed to modify the server configuration file. In that case, you have to resort to 'search string' routing.
            </li>
            <li>
                When you want to use pathnames composed of multiple segments separated by a slash, like "/customer/12345", then there is a problem 
            </li>
        </ol>
    </li>
    <li>
        The optional 'search string' "<span style="color:limegreen">?param1=A&amp;param2=B</span>"
    </li>
    <li>
        The optional 'hash' or 'fragment' "<span style="color:orange">#someHash</span>" could be used for routing too.
    </li>
</ul>

<h2>How is URL Routing achieved</h2>
<ol>
    <li>
        When using the pathname for routing, then the web server has to be configured to serve the same web application on different pathnames.
    </li>
    <li>
        When the application is opened with a specific URL, it has to "route" the URL to the correct page definition.
    </li>
    <li>
        When the user clicks on a link to a different internal page, then:
        <ol>
            <li>The page request has to be intercepted, so that the browser does not request a new page from the server</li>
            <li>The application state has to be modified to show the correct page</li>
            <li>The new URL has to be shown in the browser address bar and recorded in browser history</li>
        </ol>
    </li>
    <li>
        When the user hits the browser back or forward button, the browser will automatically update the shown URL, but the application must modify its state to show the corresponding page
    </li>
    <li>
        When using the pathname for routing and not only its last segment, then relative links on the page have be avoided, as they depend on the current pathname except its last segment.
    </li>
</ol>

<h2>How does OtoReact facilitate URL Routing</h2>

<a href="./#URLRouting" #onclick=reroute>OtoReact routing facilities</a>

</pageLayout>