<h1>HTML Elements</h1>
<p>All source elements that are not RHTML or user-defined constructs, build HTML elements.</p>
<p>All trailing dots in the tag name are removed.</p>
<p>Source attributes are compiled as described below.</p>

<h2>HTML Attributes</h2>
<p>All source attributes that do not fall in any of the categories below, are compiled as HTML attributes.
    <br>They may use <a href="#StringInterpolation">string interpolation</a>.
</p>
<demo #content=sampleSqrt></demo>

<h2>HTML Events</h2>
<p>
    In HTML, attributes whose name starts with "on" are not normal attributes but event handlers: pieces of JavaScript that will be executed when some event happens.
    <br>They may contain the name <code>event</code> which represents an object containing more information about the event.
</p>
<p>
    In RHTML, this is exactly the same, see <code>onclick="x.V += 1"</code> in the demo above.
</p>
<ul>
    <li>
        RHTML event handler attributes do not have string interpolation; they are already JavaScript and braces have their normal JavaScript meaning.
    </li>
    <li>
        RHTML event handlers may contain RHTML local variables; these will be bound to their values. Assignments to these variables (but not to their properties) are ignored.
    </li>
    <li>
        As a bonus, the keyword <code>this</code> in RHTML event handlers is bound to the current HTMLElement object.
        <br>(So you don't have to write <code>event.target</code> or <code>event.currentTarget</code>.)
    </li>
</ul>

<h2>DOM Properties</h2>
<p>
    The browser translates attributes specified in HTML elements to <i>properties</i> of the corresponding DOM objects.
    <br>Rather than setting an attribute, RHTML allows you to directly set the DOM property, by prepending the property name with a hash mark and specifying a JavaScript expression: <span class=sourcecode>#<i>propertyName</i>="<i>expression</i>"</span>
</p>
<p>
    Note that while attributes always have string values, even when the content of the string is numeric, properties can have any type.
    <br>So by setting a property rather than an attribute, you avoid unnecessary type conversions.
    <br>Furthermore, there are some DOM properties that are not available as HTML attributes at all.
</p>
<p>
    Documentation of all properties can e.g. be found at <a href="{MDN}Web/API#interfaces">MDN</a> or at <a href="https://www.w3schools.com/jsref/default.asp">W3schools</a>.
</p>
<p>
    Note: for properties with string values, setting <code>#<i>name</i>="<i>expr</i>"</i></code> has usually the same effect as <code><i>name</i>="\{<i>expr</i>}"</code>.
    <br>For events, setting <code>on<i>name</i>="<i>script</i>"</code> is completely the same as <code>#on<i>name</i>="(event) => \{ <i>script</i> }"</code>.
</p>

<h2>Output and Two-way Binding</h2>
DOM properties are not static but can change. RHTML allows output and two-way binding for properties to expressions that can assigned to, in multiple variants.
<br>Assignable expressions are global variables, array elements, and object properties, including RVAR values.
<br>These bindings are especially useful for the <code>value</code> or <code>input</code> property of <a href="{MDN}Web/API/HTMLInputElement">input elements</a>, or the <code>textContent</code> or <code>innerHTML</code> properties of elements with <code><a href="{MDN}Web/API/HTMLElement/contentEditable">contentEditable</a>=true</code>.
<dl>
    <dt><code>@<i>propertyName</i>="<i>expression</i>"</code></dt>
    <dd>
        The property receives the value of the expression at element creation and update, and the expression receives the value of the property at every <a href="{MDN}Web/API/HTMLElement/input_event">input event</a>.
        <br>For elements which allow text input, an input event happens at every keystroke. You see the effect in several samples on this page.
    </dd>
    <dt><code>@@<i>propertyName</i>="<i>expression</i>"</code></dt>
    <dd>
        The property receives the value of the expression at element creation and update, and the expression receives the value of the property at every <a href="{MDN}Web/API/HTMLElement/change_event">change event</a>.
        <br>For elements which allow text input, a change event happens when the user presses ‹Enter› or when the element looses focus, so less often than input events.</dd>
    <dt><code>*<i>propertyName</i>="<i>expression</i>"</code>
    </dt>
    <dd>
        The property is left unchanged, but the expression receives the value of the property at element creation and at every input event.
    </dd>
    <dt><code>**<i>propertyName</i>="<i>expression</i>"</code></dt>
    <dd>
        The property is left unchanged, but the expression receives the value of the property at element creation and at every change event.
    </dd>
</dl>

<h2>RHTML Pseudo-events</h2>
RHTML adds two event-like attributes to HTML elements:
<dl>
    <dt><code>oncreate</code></dt>
    <dd>
        Happens after an element (and its children) has been created (built).
    </dd>
    <dt><code>onupdate</code></dt>
    <dd>
        Happens after an element (and its children) has been created (built) <i>or updated</i>.
    </dd>
</dl>
Notes: The name <code>event</code> is not available in handlers for these pseudo-events.
<br>They are currently not available for RHTML constructs, only for HTML elements.

<h2>Class Names</h2>
<p>
    "Class names" are used in HTML to select CSS styling properties, and can of course be set with the <code>class</code> attribute, or the <code>#className</code> or <code>#classList</code> DOM properties.
    <br>Besides these, RHTML adds the following attributes:
</p>
<dl>
    <dt><code>#class:<i>name</i>="<i>booleanExpression</i>"</code></dt>
    <dd>
        Class name <i>name</i> will be added to the element if and only if the expression evaluates to true (or another <a href="{MDN}Glossary/Truthy">truthy</a> value).
    </dd>
    <dt><code>+class="<i>objectExpression</i>"</code></dt>
    <dd>
        The expression should evaluate to an object.
        <br>For every property <i>name</i> in the object, class name <i>name</i> will be added to the element if and only if the property value is true.
    </dd>
</dl>
Just as other DOM properties, class names are recomputed at every update of the element.

<h2>Inline Styles</h2>
HTML allows you set the style of individual elements with the <a href="{MDN}Web/HTML/Global_attributes/style"><code>style</code> attribute</a>.
<br>The corresponding <a href="{MDN}Web/API/HTMLElement/style"><code>style</code> DOM property</a> yields the inline style as an object, but can't be set.
<br>One can, however, set its properties.
<br>RHTML adds the following attributes:
<dl>
    <dt><code>#style.<i>name</i>="<i>expression</i>"</code></dt>
    <dd>
        Style property <i>name</i> will be set to the value of <code><i>expression</i></code>, when it is not <code>undefined</code>.
    </dd>
    <dt><code>+style="<i>objectExpression</i>"</code></dt>
    <dd>
        The expression should evaluate to an object.
        <br>Every property <i>name</i> in the object will be set in the inline style object.
    </dd>
</dl>
<demo #content=sampleInlineStyles></demo>