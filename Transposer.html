<script type=module>
    import {RCompile} from './OtoReact.js';
    globalThis.data = [{name:'Piet', age:18}, {name:'Tine', age:19}];
    RCompile(document.body);
</script>

<component>
    <TABLEMAKER datasource>
        <HDEF></HDEF>
        <DDEF record></DDEF>
    </TABLEMAKER>

    <template>
        <table.>
            <tr.>
                <foreach of=HDEF>
                    <th.><HDEF></HDEF></th.>
                </foreach>
            </tr.>
            <foreach let=rec of="datasource">
                <tr.>
                    <foreach of=DDEF>
                        <td.><DDEF #record=rec></DDEF></th>
                    </foreach>
                </tr.>
            </foreach>
        </table.>
    </template>

</component>

<tablemaker #datasource="globalThis.data">
    <HDEF>Naam</HDEF>
    <DDEF record>{record.name}</DDEF>

    <HDEF>Leeftijd</HDEF>
    <DDEF record>{record.age}</DDEF>
</tablemaker>