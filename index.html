<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>The OtoReact framework</title>
    <link rel=preload href="Otoreact.js"            as=script >
    <link rel=preload href="Components.html"        as=fetch crossorigin>
    <link rel="shortcut icon" href="OtoReact.png" type="image/png"/>
    <link rel="stylesheet" href="index.css">
    <link rel=preload href="C1_Introduction.html"   as=fetch crossorigin>
    <link rel=preload href="KoninklijkeOtolift.png" as=image>
    <link rel=preload href="C2_HtmlElements.html"   as=fetch crossorigin>
    <link rel=preload href="C3_Constructs.html"     as=fetch crossorigin>
    <link rel=preload href="C4_Scripts.html"        as=fetch crossorigin>

    <script>
        let s = Date.now();
        function msg(m) {
            console.log(`${Date.now() - s} ${m}`);
        }
        const wikipedia = "https://en.wikipedia.org/wiki/",
            MDN="https://developer.mozilla.org/en-US/docs/";
    </script>
    <script src="samples.js" defer></script>
    <script type=module>
        msg('Document parsed');

        import {RCompile} from './OtoReact.js';
        msg('OtoReact loaded');
        
        delete globalThis.fetch;
        delete globalThis.XMLHttpRequest;
        delete globalThis.import;
        
        RCompile(document.body);
        document.body.hidden = false;
        msg('Document compiled');
    </script>
</head>
<body hidden onload="msg('All loaded');">

<import src="Components.html">
    <!-- This component ensures that all <a> elements with no target and an external href, get a target='_blank' attribute -->
    <a href #target? download? title? onclick?><content></content></a>
    <!-- Component to demonstrate RHTML -->
    <demo content #bshow=true name? #store?></demo>
    <!-- Beware: any braces in the content attribute must be prefixed with a '\' -->
    <pageLayout>
        <pageHead></pageHead>
        <content>
            <h1 id?><content></content></h1>
            <h2 id?><content></content></h2>
        </content>
    </pageLayout>
</import>

<case reacton=docLocation Hiding>
    <when cond="!window.location.pathname.match(/\/Routing$/i)">
        <pageLayout>
            <pageHead>
                <span class=OtoRed>Reactive HTML</span> through the <span class=OtoRed>OtoReact</span> framework
            </pageHead>


            <div style="display: grid; grid-template-columns: 1fr auto;">
                <div class=sample 
                    style="width: 300pt; min-height: 108px; grid-column: 1; justify-self: center;" 
                    id=sampleGreeting>
                    <RHTML>{sampleGreeting}</RHTML>
                </div>
                <div style="grid-column: 2; transform: scale(0.85);">
                    <RHTML>{sampleTicTacToe}</RHTML>
                </div>
            </div>
            
            <section style.minHeight='5325px'><include src="C1_Introduction.html"></include></section>
            <section style.minHeight='2594px'><include src="C2_HtmlElements.html"></include></section>
            <section style.minHeight='5344px'><include src="C3_Constructs.html"></include></section>
            <section style.minHeight='1165px'><include src="C4_Scripts.html"></include></section>
        </pageLayout>
    </when>
    <else>
        <include src="Routing.html">
    </else>
</case>
</body>