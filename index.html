<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>The OtoReact framework</title>
    <link rel=preload href="OtoReact.js"            as=script crossorigin>
    <link rel=preload href="Lib_Components.html"    as=fetch crossorigin>
    <link rel=preload href="C1_Introduction.html"   as=fetch crossorigin>
    <link rel=preload href="KoninklijkeOtolift.png" as=image>
    <link rel=preload href="C2_HtmlElements.html"   as=fetch crossorigin>
    <link rel=preload href="C3_Constructs.html"     as=fetch crossorigin>
    <link rel=preload href="C4_Scripts.html"        as=fetch crossorigin>
    <link rel="shortcut icon"   href="otoreact.png" type="image/png"/>
    <link rel="stylesheet"      href="index.css">
    <link rel=preload href="webColors.json"         as=fetch crossorigin>

    <script>
        let s = Date.now();
        function msg(m) {
            console.log(`${Date.now() - s} ${m}`);
        }
        const 
            wiki = "https://en.wikipedia.org/wiki/",
            MDN="https://developer.mozilla.org/en-US/docs/";
    </script>
    <script src="samples.js" defer></script>
    <script type=module>
        msg('Document parsed');

        import {RCompile} from './OtoReact.js';
        msg('OtoReact loaded');
        
        RCompile(document.body, {rootPattern: '/otoreact/|http://localhost:5000/'});
        //document.body.hidden = false;
        msg('Document compiled');
        
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T23W7PMPX4"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-T23W7PMPX4');
    </script>
</head>
<body onload="msg('All loaded');">

    <import src="Lib_Components.html">
        <!-- This component ensures that all <a> elements with no target and an external href, get a target='_blank' attribute -->
        <a href #target? ...rest><content></content></a>
        
        <!-- Component to demonstrate RHTML -->
        <demo #content?="''" #bshow=true #editable?=true rvar?></demo>
        <!-- Beware: any braces in the content attribute must be prefixed with a '\' -->

        <!-- Component that builds a page with header and table of contents-->
        <pageLayout>
            <pageHead></pageHead>
            <content>
                <h1 id?><content></content></h1>
                <h2 id?><content></content></h2>
                <h3 id?><content></content></h3>
            </content>
        </pageLayout>
    </import>

    <case thisreactson=docLocation #value="docLocation.subpath" hiding>
        <when match="">
            <pageLayout>
                <pageHead>
                    <span class=OtoRed>Reactive HTML</span> through the <span class=OtoRed>OtoReact</span> framework
                </pageHead>

                <section style.minHeight='6234px'><include src="C1_Introduction.html"></include></section>
                <section style.minHeight='2670px'><include src="C2_HtmlElements.html"></include></section>
                <section style.minHeight='6939px'><include src="C3_Constructs.html"></include></section>
                <section style.minHeight='1165px'><include src="C4_Scripts.html"></include></section>

            </pageLayout>
        </when>
        <when match="routing">
            <include src="Routing.html">
        </when>
        <else>
            <case thisreactson=docLocation #value="docLocation.subpath">
                <when regmatch="invoice/(.*)$" captures=nr>Invoice {nr}</when>
                <else>Page not found</else>
            </case>            
    </case>

</body>