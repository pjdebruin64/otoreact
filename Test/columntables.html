<style>
	table {border-spacing: 8px}

	table.Age {border: solid; text-align: center}
</style>

<script type=otoreact defines=tableData,thisYear>
  const tableData = [
      {name:'Piet',		year: 2004}, 
      {name:'Tine',	year: 2003},
	  {name: 'Alex',	year: 1960}
  ];

  const thisYear = new Date().getFullYear();
</script>

<component>
	<coltab #data ...R>
		<ccap></ccap>
		<content>
			<cth ...rest><content_th></content_th></cth>
			<ctd ...rest><content_td #item #index></content_td></ctd>
		</content>
	</coltab>

	<template>
		<table. ...R>

			<caption.><ccap></ccap></caption.>

			<tr.>
				<content>
					<cth ...rest>
						<th. ...rest>
							<content_th></content_th>
						</th.>
					</cth>
				</content>
			</tr.>

			<for let=it of=data key=it index=i>
				<tr.>
					<content>
						<ctd ...rest>
							<td. ...rest>
								<content_td #item=it #index=i></content_td>
							</td.>
						</coldef>
					</content>
				</tr.>
			</for>

		</table.>
	</template>
</component>

<p>This table has a conditional column, defined by a <i>single</i> condition:</p>

<def rvar=showAge store=sessionStorage></def>
<label>
	<input type=checkbox @checked=showAge.V>
	Show age
</label>

<coltab #data=tableData class=Age reacton=showAge>
	<cth>Name</cth>
	<ctd item=r style="color: red">{r.name}</ctd>

	<cth>Birth year</cth>
	<ctd item=r>{r.year}</ctd>

	<if cond="showAge.V">
		<cth style="font-style: italic">Age</cth>
		<ctd item=r>{thisYear -  r.year}</ctd>
	</if>
</coltab>


<p>The table below is built using a <i>repeating column definition</i>, where both column header and column data are defined in a <i>single</i> repetition:
</p>

<def rvar=size #value=10 store=sessionStorage></def>
<label>
	Size: <input type=number @value="size.V">
</label>

<coltab #data="range(1, size.V)" style="text-align: right">

	<ccap>Multiplication table</ccap>

	<cth></cth>
	<ctd item=y style="font-weight: bold">{y}</ctd>

	<for let=x of="range(1, size.V)" key=x>
		<cth>{x}</cth>
		<ctd item=y>{x * y}</ctd>
	</for>

</coltab>