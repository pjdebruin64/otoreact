<!-- https://vuejs.org/tutorial/#step-7 -->
<script type=module src="OtoReact.js"></script>

<body hidden type=rhtml>
  <script type="otoreact" defines="newTodo, todos, addTodo, removeTodo">
    const newTodo = RVAR();
    const todos = RVAR('', [
      { text: 'Learn HTML' },
      { text: 'Learn JavaScript' },
      { text: 'Learn Vue' }
    ]);

    function addTodo() {
      todos.U.push({ text: newTodo.V })
      newTodo.V = ''
    }

    function removeTodo(todo) {
      todos.V = todos.V.filter((t) => t !== todo)
    }
  </script>

  <form onsubmit="addTodo(); event.preventDefault();">
    <input @value="newTodo.V" reacton="newTodo">
    <button>Add Todo</button>    
  </form>
  <ul>
    <FOR let="todo" of="todos.V" key="todo" reacton="todos">
      <li>
        { todo.text }
        <button onclick="removeTodo(todo)">X</button>
      </li>
    </FOR>
  </ul>

</body>