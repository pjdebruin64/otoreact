<style>
	table {border-spacing: 6px}
</style>

<component>
	<coltab #data ...R>
		<caption.></caption.>
		<content>
			<coldef hdstyle? ...rest>
				<th.></th.>
				<td. #item #index></td.>
			</coldef>
		</content>
	</coltab>

	<template>
		<table. ...R>

			<caption..><caption.></caption.></caption..>

			<tr.>
				<content>
					<coldef hdstyle=S>
						<th.. #style=S>
							<th.></th.>
						</th..>
					</coldef>
				</content>
			</tr.>

			<for let=it of=data key=it index=i>
				<tr.>
					<content>
						<coldef ...rest>
							<td..  ...rest>
								<td. #item=it #index=i></td.>
							</td..>
						</coldef>
					</content>
				</tr.>
			</for>

		</table.>
	</template>
</component>

<script type=otoreact defines=tableData,thisYear>
  const tableData = [
      {name:'Piet',		year: 2004}, 
      {name:'Tine',	year: 2003},
	  {name: 'Alex',	year: 1960}
  ];

  const thisYear = new Date().getFullYear();
</script>

<p>This table has a conditional column, defined by a <i>single</i> condition:</p>

<def rvar=showAge store=sessionStorage></def>
<label>
	<input type=checkbox @checked=showAge.V>
	Show age
</label>

<style>
	table.Age {border: solid; text-align: center}
</style>

<coltab #data=tableData class=Age beforecreate=debugger >
	<coldef style="color: red">
		<th.>Name</th.>
		<td. item=r>{r.name}</td.>
	</coldef>

	<coldef>
		<th.>Birth year</th.>
		<td. item=r>{r.year}</td.>
	</coldef>

	<if cond="showAge.V">
		<coldef hdstyle="font-style: italic">
			<th.>Age</th.>
			<td. item=r>{thisYear -  r.year}</td.>
		</coldef></coltab>
	</if>
</coltab>


<p>The table below is built using a <i>repeating column definition</i>, where both column header and column data are defined in a <i>single</i> repetition:
</p>

<coltab #data="range(1, 10)" style="text-align: right">

	<caption.>Multiplication table</caption.>

	<coldef style="font-weight: bold">
		<td. item=y>{y}</td.>
	</coldef>

	<for let=x of="range(1,10)" key=x>
		<coldef>
			<th.>{x}</th.>
			<td. item=y>{x * y}</td.>
		</coldef>
	</for>

</coltab>